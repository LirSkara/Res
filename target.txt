–°–æ–∑–¥–∞–π backend-–ø—Ä–æ–µ–∫—Ç –Ω–∞ Python —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º FastAPI –∏ SQLAlchemy. –≠—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–º, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞ –Ω–∞ Raspberry Pi 5 —Å Ubuntu Server 24.04 –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω—ã–º (MVP), –Ω–æ –≥–æ—Ç–æ–≤—ã–º –∫ —Ä–∞–±–æ—Ç–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ.

---

# üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

/restaurant-backend
‚îú‚îÄ‚îÄ alembic/                           # –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Alembic
‚îÇ   ‚îú‚îÄ‚îÄ env.py                         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Alembic
‚îÇ   ‚îú‚îÄ‚îÄ script.py.mako                 # –®–∞–±–ª–æ–Ω –º–∏–≥—Ä–∞—Ü–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ versions/                      # –°—é–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ main.py                        # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ config.py                      # –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ .env
‚îÇ   ‚îú‚îÄ‚îÄ database.py                    # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î (SQLite/MySQL)
‚îÇ   ‚îú‚îÄ‚îÄ deps.py                        # Depends –¥–ª—è FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ models/                        # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ table.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ location.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dish.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ category.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ingredient.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ paymentmethod.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ order.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ order_item.py
‚îÇ   ‚îú‚îÄ‚îÄ schemas/                       # Pydantic-—Å—Ö–µ–º—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ table.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ location.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dish.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ category.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ingredient.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ paymentmethod.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ order.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ order_item.py
‚îÇ   ‚îú‚îÄ‚îÄ routers/                       # FastAPI —Ä–æ—É—Ç–µ—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tables.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ locations.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dishes.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ categories.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ingredients.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ paymentmethod.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orders.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ order_items.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ websocket.py
‚îÇ   ‚îú‚îÄ‚îÄ services/                      # –õ–æ–≥–∏–∫–∞ –∏ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orders.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dishes.py
‚îú‚îÄ‚îÄ .env                               # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt                   # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ README.md                          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø—Ä–æ–µ–∫—Ç—É

---

# üßë‚Äçüíº –ú–æ–¥–µ–ª–∏

User:
- id: int                             # –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
- username: str                       # –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ª–æ–≥–∏–Ω)
- password_hash: str                  # –•–µ—à –ø–∞—Ä–æ–ª—è
- full_name: str                      # –ü–æ–ª–Ω–æ–µ –∏–º—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- role: enum('admin', 'waiter', 'kitchen')  # –†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- is_active: bool                     # –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- phone: str | None                   # –¢–µ–ª–µ—Ñ–æ–Ω
- passport: str | None                # –ü–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- avatar_url: str | None              # –§–æ—Ç–æ –∏–ª–∏ –∞–≤–∞—Ç–∞—Ä —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- shift_active: bool                  # –ü—Ä–∏–∑–Ω–∞–∫: –≤ —Å–º–µ–Ω–µ –ª–∏ —Å–µ–π—á–∞—Å
- pin_code: str | None                # 4-6 –∑–Ω–∞—á–Ω—ã–π –ø–∏–Ω-–∫–æ–¥ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—Ö–æ–¥–∞
- created_by_id: int | None           # ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–ª —ç—Ç–æ–≥–æ
- last_login: datetime | None         # –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- created_at: datetime                # –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- updated_at: datetime                # –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

Table:
- id: int                             # –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
- number: int                         # –ù–æ–º–µ—Ä —Å—Ç–æ–ª–∏–∫–∞ (–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∑–∞–ª–µ)
- qr_code: str                        # –£–Ω–∏–∫–∞–ª—å–Ω—ã–π QR-–∫–æ–¥ (UUID –∏–ª–∏ —Ö–µ—à)
- is_occupied: bool                   # –ó–∞–Ω—è—Ç –ª–∏ —Å—Ç–æ–ª–∏–∫ —Å–µ–π—á–∞—Å
- seats: int                          # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å–∞–¥–æ—á–Ω—ã—Ö –º–µ—Å—Ç
- location: int | None                # ID –ó–æ–Ω—ã —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞
- description: str | None             # –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏: "—Ä—è–¥–æ–º —Å –æ–∫–Ω–æ–º", "—É –≤—ã—Ö–æ–¥–∞"
- is_active: bool                     # –°—Ç–æ–ª–∏–∫ –¥–æ—Å—Ç—É–ø–µ–Ω –∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é/–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- current_order_id: int | None        # ID –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- created_at: datetime                # –ö–æ–≥–¥–∞ –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Å–∏—Å—Ç–µ–º—É
- updated_at: datetime                # –ü–æ—Å–ª–µ–¥–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ

Location:
- id: int                             # –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
- name: str                           # –ù–∞–∑–≤–∞–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ì–ª–∞–≤–Ω—ã–π –∑–∞–ª", "–ë–∞—Ä", "–í–µ—Ä–∞–Ω–¥–∞")
- description: str | None             # –û–ø–∏—Å–∞–Ω–∏–µ –∏–ª–∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- color: str | None                   # –¶–≤–µ—Ç–æ–≤–∞—è –º–µ—Ç–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "#66CCFF")
- is_active: bool                     # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ —Å–µ–π—á–∞—Å
- created_at: datetime                # –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- updated_at: datetime                # –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

Category:
- id: int                             # –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
- name: str                           # –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–°–∞–ª–∞—Ç—ã", "–ì–æ—Ä—è—á–µ–µ")
- description: str | None             # –û–ø–∏—Å–∞–Ω–∏–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- image_url: str | None               # –ò–∫–æ–Ω–∫–∞ –∏–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- sort_order: int                     # –ü–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (—á–µ–º –º–µ–Ω—å—à–µ ‚Äî —Ç–µ–º –≤—ã—à–µ)
- is_active: bool                     # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ —Å–µ–π—á–∞—Å
- created_at: datetime                # –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- updated_at: datetime                # –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

Dish:
- id: int                             # –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
- name: str                           # –ù–∞–∑–≤–∞–Ω–∏–µ –±–ª—é–¥–∞
- description: str                    # –û–ø–∏—Å–∞–Ω–∏–µ –±–ª—é–¥–∞
- is_available: bool                  # –î–æ—Å—Ç—É–ø–Ω–æ –ª–∏ —Å–µ–π—á–∞—Å
- category_id: int                    # FK ‚Üí Category.id (ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –±–ª—é–¥–∞)
- category: int                       # ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- image_url: str | None               # –§–æ—Ç–æ –±–ª—é–¥–∞ (–¥–ª—è QR-–º–µ–Ω—é –∏ –ø–∞–Ω–µ–ª–∏)
- cooking_time: int | None            # –í—Ä–µ–º—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è –≤ –º–∏–Ω—É—Ç–∞—Ö
- weight: float | None                # –í–µ—Å –±–ª—é–¥–∞ (–≤ –≥—Ä–∞–º–º–∞—Ö)
- calories: int | None                # –ö–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å (–∫–∫–∞–ª)
- ingredients: str | None             # –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã
- code: str | None                    # –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫–æ–¥ –±–ª—é–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –∫—É—Ö–Ω–∏/—Å–∫–ª–∞–¥–∞)
- created_at: datetime                # –î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
- updated_at: datetime                # –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

Order:
- id: int                             # –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
- table_id: int                       # FK ‚Üí Table.id (—Å—Ç–æ–ª–∏–∫)
- waiter_id: int                      # FK ‚Üí User.id (–æ—Ñ–∏—Ü–∏–∞–Ω—Ç)
- status: enum('pending','in_progress','ready','served','cancelled')  # –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞
- total_price: float                  # –û–±—â–∞—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞
- payment_status: enum('unpaid', 'paid', 'refunded')  # –°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç—ã
- served_at: datetime | None          # –í—Ä–µ–º—è, –∫–æ–≥–¥–∞ –∑–∞–∫–∞–∑ –±—ã–ª –ø–æ–¥–∞–Ω
- cancelled_at: datetime | None       # –í—Ä–µ–º—è –æ—Ç–º–µ–Ω—ã –∑–∞–∫–∞–∑–∞
- time_to_serve: int | None           # –í—Ä–µ–º—è –æ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ –ø–æ–¥–∞—á–∏ (–≤ –º–∏–Ω—É—Ç–∞—Ö)
- notes: str | None                   # –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞
- kitchen_notes: str | None           # –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –∫—É—Ö–Ω–∏
- order_type: enum('dine_in', 'takeaway', 'delivery')  # –¢–∏–ø –∑–∞–∫–∞–∑–∞
- created_at: datetime                # –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è
- updated_at: datetime                # –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
üîó items: List[OrderItem]             # –°–ø–∏—Å–æ–∫ –ø–æ–∑–∏—Ü–∏–π –≤ –∑–∞–∫–∞–∑–µ (—Å–≤—è–∑—å –æ–¥–∏–Ω-–∫–æ-–º–Ω–æ–≥–∏–º)

Order_item:
- id: int                             # –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
- order_id: int                       # FK ‚Üí Order.id
- dish_id: int                        # FK ‚Üí Dish.id
- quantity: int                       # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ü–∏–π
- price: float                        # –¶–µ–Ω–∞ –æ–¥–Ω–æ–π –ø–æ—Ä—Ü–∏–∏ (–Ω–∞ –º–æ–º–µ–Ω—Ç –∑–∞–∫–∞–∑–∞)
- total: float                        # –û–±—â–∞—è —Ü–µ–Ω–∞ –∑–∞ –ø–æ–∑–∏—Ü–∏—é (quantity * price)
- comment: str | None                 # –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ –ø–æ–∑–∏—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–±–µ–∑ –ª—É–∫–∞")
- status: enum('new','cooking','ready','served','cancelled')   # –°—Ç–∞—Ç—É—Å
- created_at: datetime                # –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏
- updated_at: datetime                # –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

Ingredient:
- id: int                             # –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
- name: str                           # –ù–∞–∑–≤–∞–Ω–∏–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ú—É–∫–∞", "–ö—É—Ä–∏—Ü–∞")
- description: str | None             # –û–ø–∏—Å–∞–Ω–∏–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞ (–ø–æ –∂–µ–ª–∞–Ω–∏—é)
- is_allergen: bool                   # –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç –∞–ª–ª–µ—Ä–≥–µ–Ω–æ–º
- created_at: datetime                # –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏
- updated_at: datetime                # –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

PaymentMethod:
- id: int                             # –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
- name: str                           # –ù–∞–∑–≤–∞–Ω–∏–µ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ù–∞–ª–∏—á–Ω—ã–µ", "–ö–∞—Ä—Ç–∞", "Apple Pay")
- is_active: bool                     # –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã
- created_at: datetime                # –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏
- updated_at: datetime                # –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

# üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
- –≠–Ω–¥–ø–æ–∏–Ω—Ç: `POST /auth/login` ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç username –∏ password, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JWT access-—Ç–æ–∫–µ–Ω
- –ó–∞—â–∏—Ç–∞ —Ä–æ—É—Ç–æ–≤ —á–µ—Ä–µ–∑ Depends
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π: waiter, kitchen, admin
- –ü–∞—Ä–æ–ª–∏ —Ö—ç—à–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `passlib[bcrypt]`

---

# üì° WebSocket

- –≠–Ω–¥–ø–æ–∏–Ω—Ç `/ws/orders` –¥–ª—è –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–π —Å–≤—è–∑–∏ –æ—Ñ–∏—Ü–∏–∞–Ω—Ç–∞ –∏ –∫—É—Ö–Ω–∏
- –ö–æ–≥–¥–∞ –æ—Ñ–∏—Ü–∏–∞–Ω—Ç —Å–æ–∑–¥–∞—ë—Ç –∑–∞–∫–∞–∑ ‚Üí –∫—É—Ö–Ω—è –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ
- –ö–æ–≥–¥–∞ –∫—É—Ö–Ω—è –æ—Ç–º–µ—á–∞–µ—Ç "–≥–æ—Ç–æ–≤–æ" ‚Üí –æ—Ñ–∏—Ü–∏–∞–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ

---

# üîå API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

# üîê Auth
POST   /auth/login             ‚Äì –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É, –ø–æ–ª—É—á–µ–Ω–∏–µ JWT
GET    /auth/me                ‚Äì –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

# üë§ Users (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–æ–ª–∏ admin)
GET    /users/                 ‚Äì –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
POST   /users/                 ‚Äì –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET    /users/{id}             ‚Äì –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID
PATCH  /users/{id}             ‚Äì –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
DELETE /users/{id}             ‚Äì –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

# ü™ë Tables
GET    /tables/                ‚Äì –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Ç–æ–ª–∏–∫–æ–≤
POST   /tables/                ‚Äì –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Å—Ç–æ–ª–∏–∫
GET    /tables/{id}            ‚Äì –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–æ–ª–∏–∫ –ø–æ ID
PATCH  /tables/{id}            ‚Äì –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–æ–ª–∏–∫
PATCH  /tables/{id}/status     ‚Äì –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ —Å—Ç–æ–ª–∏–∫–∞
DELETE /tables/{id}            ‚Äì –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å —Å—Ç–æ–ª–∏–∫

# üó∫Ô∏è Locations
GET    /locations/             ‚Äì –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–æ–Ω
POST   /locations/             ‚Äì –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–æ–Ω—É
PATCH  /locations/{id}         ‚Äì –û–±–Ω–æ–≤–∏—Ç—å –∑–æ–Ω—É
DELETE /locations/{id}         ‚Äì –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å –∑–æ–Ω—É

# üìÇ Categories
GET    /categories/            ‚Äì –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
POST   /categories/            ‚Äì –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
GET    /categories/{id}        ‚Äì –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ ID
PATCH  /categories/{id}        ‚Äì –û–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
DELETE /categories/{id}        ‚Äì –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é

# üçΩÔ∏è Dishes
GET    /dishes/                ‚Äì –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –±–ª—é–¥
POST   /dishes/                ‚Äì –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –±–ª—é–¥–æ
GET    /dishes/{id}            ‚Äì –ü–æ–ª—É—á–∏—Ç—å –±–ª—é–¥–æ –ø–æ ID
PATCH  /dishes/{id}            ‚Äì –û–±–Ω–æ–≤–∏—Ç—å –±–ª—é–¥–æ
DELETE /dishes/{id}            ‚Äì –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å –±–ª—é–¥–æ

# üßæ Orders
GET    /orders/                ‚Äì –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤
POST   /orders/                ‚Äì –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑
GET    /orders/{id}            ‚Äì –ü–æ–ª—É—á–∏—Ç—å –∑–∞–∫–∞–∑ –ø–æ ID
PATCH  /orders/{id}            ‚Äì –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–∫–∞–∑
DELETE /orders/{id}            ‚Äì –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑

# üç± Order Items
POST   /orders/{order_id}/items/           ‚Äì –î–æ–±–∞–≤–∏—Ç—å –±–ª—é–¥–æ –≤ –∑–∞–∫–∞–∑
PATCH  /orders/{order_id}/items/{item_id}  ‚Äì –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é –≤ –∑–∞–∫–∞–∑–µ
DELETE /orders/{order_id}/items/{item_id}  ‚Äì –£–¥–∞–ª–∏—Ç—å –±–ª—é–¥–æ –∏–∑ –∑–∞–∫–∞–∑–∞

# üßÇ Ingredients
GET    /ingredients/           ‚Äì –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤
POST   /ingredients/           ‚Äì –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç
PATCH  /ingredients/{id}       ‚Äì –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç
DELETE /ingredients/{id}       ‚Äì –£–¥–∞–ª–∏—Ç—å –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç

# üí≥ Payment Methods
GET    /payment-methods/           ‚Äì –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å–ø–æ—Å–æ–±–æ–≤ –æ–ø–ª–∞—Ç—ã
POST   /payment-methods/           ‚Äì –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã
PATCH  /payment-methods/{id}       ‚Äì –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã
DELETE /payment-methods/{id}       ‚Äì –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã

---

# ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- FastAPI ‚Äì —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è API
- SQLAlchemy ‚Äì ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Python
- Alembic ‚Äì —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- SQLite (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) ‚Äì –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ë–î –¥–ª—è MVP
- PostgreSQL –∏–ª–∏ MySQL ‚Äì —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –°–£–ë–î –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- Pydantic ‚Äì –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö/–≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- JWT (—á–µ—Ä–µ–∑ python-jose) ‚Äì –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ —Ç–æ–∫–µ–Ω–∞–º
- WebSockets (—á–µ—Ä–µ–∑ FastAPI) ‚Äì –¥–ª—è –∂–∏–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (–æ—Ñ–∏—Ü–∏–∞–Ω—Ç ‚Üî –∫—É—Ö–Ω—è)
- python-dotenv ‚Äì –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ .env —Ñ–∞–π–ª–∞
- CORS (fastapi.middleware.cors) ‚Äì –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º Vue/SPA

---

# üì¶ requirements.txt


---

# ‚úÖ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- –ü—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∫–æ–º–∞–Ω–¥–æ–π:
  `uvicorn app.main:app --reload`
- Swagger UI –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ `/docs`
- –í—Å–µ –º–æ–¥–µ–ª–∏ –æ—Ç–¥–µ–ª–µ–Ω—ã –æ—Ç —Å—Ö–µ–º (ORM != Pydantic)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–∞ (UUID) –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å—Ç–æ–ª–∏–∫–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ CORS
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –±—É–¥—É—â–∏–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º (—Å–∫–ª–∞–¥, –æ–ø–ª–∞—Ç–∞, –æ—Ç—á—ë—Ç—ã)

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞, –Ω–∞—á–∏–Ω–∞—è —Å –º–æ–¥–µ–ª–µ–π, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –±–∞–∑–æ–≤—ã—Ö —Ä–æ—É—Ç–æ–≤.